(this.webpackJsonpchatapp=this.webpackJsonpchatapp||[]).push([[0],{22:function(e,t,a){},24:function(e,t,a){},29:function(e,t,a){"use strict";a.r(t);var r=a(3),n=a.n(r),c=a(14),s=a.n(c),i=(a(22),a(13)),o=a.n(i),u=a(15),d=a(10),p=(a(24),a(9)),j=(a(30),a(26),a(16)),b=a(17),h=a(4);p.a.initializeApp({apiKey:"AIzaSyA4Vgo74dDQlQgrZByhjwog0qQjaCJuys0",authDomain:"fir-chatapp-a35f6.firebaseapp.com",projectId:"fir-chatapp-a35f6",storageBucket:"fir-chatapp-a35f6.appspot.com",messagingSenderId:"686644600310",appId:"1:686644600310:web:51abd5b390a265d530fbd7",measurementId:"G-0YCL3QG9NN"});var l=p.a.auth(),f=p.a.firestore();function m(){return Object(h.jsx)("button",{onClick:function(){var e=new p.a.auth.GoogleAuthProvider;l.signInWithPopup(e)},children:"Sign in with Google"})}function O(){var e=Object(r.useRef)(),t=f.collection("messages"),a=t.orderBy("createdAt").limit(25),n=Object(b.a)(a,{idField:"id"}),c=Object(d.a)(n,1)[0],s=Object(r.useState)(""),i=Object(d.a)(s,2),j=i[0],m=i[1],O=function(){var a=Object(u.a)(o.a.mark((function a(r){var n,c,s;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r.preventDefault(),n=l.currentUser,c=n.uid,s=n.photoURL,a.next=4,t.add({text:j,createdAt:p.a.firestore.FieldValue.serverTimestamp(),uid:c,photoURL:s});case 4:m(""),e.current.scrollIntoView({bevavior:"smooth"});case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("main",{children:[c&&c.map((function(e){return Object(h.jsx)(g,{message:e},e.id)})),Object(h.jsx)("div",{ref:e})]}),Object(h.jsxs)("form",{onSubmit:O,children:[Object(h.jsx)("input",{value:j,onChange:function(e){return m(e.target.value)},placeholder:" say something"}),Object(h.jsx)("button",{type:"submit",placeHolder:"Enter messages",children:"send"})]})]})}function g(e){var t=e.message,a=t.text,r=t.uid,n=t.photoURL,c=r===l.currentUser.uid?"sent":"received";return Object(h.jsxs)("div",{className:"message ".concat(c),children:[Object(h.jsx)("img",{src:n||"https://api.adorable.io/avatars/23/abott@adorable.png"}),Object(h.jsx)("p",{children:a})]})}var v=function(){var e=Object(j.a)(l),t=Object(d.a)(e,1)[0];return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)("header",{}),Object(h.jsx)("section",{children:t?Object(h.jsx)(O,{}):Object(h.jsx)(m,{})})]})};s.a.render(Object(h.jsx)(n.a.StrictMode,{children:Object(h.jsx)(v,{})}),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.8f29edbd.chunk.js.map